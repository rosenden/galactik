{"version":3,"file":"gal-label.js","sourceRoot":"","sources":["../../../src/components/gal-label/gal-label.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, State, h } from '@stencil/core';\n\ntype LabelSize = 'small' | 'medium';\ntype LabelColor = 'sage' | 'black' | 'success' | 'error' | 'warning' | 'info';\n\n@Component({\n  tag: 'gal-label',\n  styleUrl: 'gal-label.css',\n  shadow: true\n})\nexport class GalLabel {\n  @Element() el!: HTMLElement;\n\n  /** Text rendered inside the label (fallback when no slot) */\n  @Prop() text: string = 'Label';\n  /** Label size */\n  @Prop() size: LabelSize = 'medium';\n  /** Palette aligned with the React implementation */\n  @Prop() color: LabelColor = 'sage';\n  /** Optional Font Awesome class for the icon */\n  @Prop() icon?: string;\n\n  @State() hasIconSlot = false;\n  @State() hasTextSlot = false;\n\n  private handleIconSlotChange = (event: Event) => {\n    const slot = event.target as HTMLSlotElement;\n    this.hasIconSlot = !!slot && slot.assignedNodes().length > 0;\n  };\n\n  private handleTextSlotChange = (event: Event) => {\n    const slot = event.target as HTMLSlotElement;\n    this.hasTextSlot = !!slot && slot.assignedNodes().length > 0;\n  };\n\n  private hasProjectedIcon(): boolean {\n    if (this.hasIconSlot) return true;\n    if (!this.el) return false;\n    return !!this.el.querySelector('[slot=\"icon\"]');\n  }\n\n  private hasDefaultTextNodes(): boolean {\n    if (!this.el) return false;\n    const childNodes = Array.from(this.el.childNodes);\n    return childNodes.some((node) => {\n      if (node.nodeType === 1) {\n        const element = node as Element;\n        return !element.hasAttribute('slot');\n      }\n      return Boolean(node.textContent && node.textContent.trim().length);\n    });\n  }\n\n  private shouldLoadFontAwesome(showIcon: boolean): boolean {\n    return showIcon;\n  }\n\n  render() {\n    const baseClass = 'oc-label';\n    const classes = [\n      baseClass,\n      `${baseClass}--${this.size}`,\n      `${baseClass}--${this.color}`,\n      `${baseClass}--default`\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const hasProjectedIcon = this.hasProjectedIcon();\n    const showIcon = Boolean(this.icon) || hasProjectedIcon;\n    const shouldLoadFA = this.shouldLoadFontAwesome(showIcon);\n    const hasCustomText = this.hasTextSlot || this.hasDefaultTextNodes();\n\n    return (\n      <Host>\n        {showIcon && shouldLoadFA && (\n          <link\n            rel=\"stylesheet\"\n            href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\"\n          />\n        )}\n        <span class={classes}>\n          {showIcon && (\n            <span class=\"oc-label__icon\" aria-hidden=\"true\">\n              {this.icon && <i class={this.icon}></i>}\n              <slot name=\"icon\" onSlotchange={this.handleIconSlotChange}></slot>\n            </span>\n          )}\n          <span class=\"oc-label__text\">\n            <slot onSlotchange={this.handleTextSlotChange}></slot>\n            {!hasCustomText && this.text}\n          </span>\n        </span>\n      </Host>\n    );\n  }\n}\n"]}