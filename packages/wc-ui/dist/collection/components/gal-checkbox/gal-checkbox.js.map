{"version":3,"file":"gal-checkbox.js","sourceRoot":"","sources":["../../../src/components/gal-checkbox/gal-checkbox.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\n\ntype CheckboxSelection = 'unselected' | 'selected' | 'indeterminate';\n\n@Component({\n  tag: 'gal-checkbox',\n  styleUrl: 'gal-checkbox.css',\n  shadow: true\n})\nexport class GalCheckbox {\n  @Element() el!: HTMLElement;\n\n  /** Whether the checkbox is checked */\n  @Prop({ mutable: true, reflect: true }) checked: boolean = false;\n  /** Indeterminate visual state (minus) */\n  @Prop({ reflect: true }) indeterminate: boolean = false;\n  /** Disable interactions */\n  @Prop() disabled: boolean = false;\n  /** Optional label text (fallback if no slot) */\n  @Prop() label?: string;\n  /** Native input name */\n  @Prop() name?: string;\n  /** Native input value */\n  @Prop() value?: string;\n\n  @State() isFocused = false;\n  @State() isKeyboardFocus = false;\n  @State() hasLabelSlot = false;\n\n  @Event() galChange!: EventEmitter<boolean>;\n  @Event() galCheckedChange!: EventEmitter<boolean>;\n  @Event() galFocus!: EventEmitter<FocusEvent>;\n  @Event() galBlur!: EventEmitter<FocusEvent>;\n\n  private inputEl?: HTMLInputElement;\n\n  componentDidLoad() {\n    this.syncIndeterminate();\n  }\n\n  componentDidUpdate() {\n    this.syncIndeterminate();\n  }\n\n  @Watch('indeterminate')\n  onIndeterminateChange() {\n    this.syncIndeterminate();\n  }\n\n  @Watch('checked')\n  onCheckedChange(newValue: boolean) {\n    if (this.inputEl) {\n      this.inputEl.checked = newValue;\n    }\n  }\n\n  private syncIndeterminate() {\n    if (this.inputEl) {\n      this.inputEl.indeterminate = this.indeterminate;\n    }\n  }\n\n  private get selectionState(): CheckboxSelection {\n    if (this.indeterminate) return 'indeterminate';\n    if (this.checked) return 'selected';\n    return 'unselected';\n  }\n\n  private handleInputChange = (event: Event) => {\n    if (this.disabled) return;\n    const target = event.target as HTMLInputElement;\n    this.checked = target.checked;\n    this.galCheckedChange.emit(this.checked);\n    this.galChange.emit(this.checked);\n  };\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    if (event.key === ' ' && !this.disabled) {\n      event.preventDefault();\n      this.checked = !this.checked;\n      this.galCheckedChange.emit(this.checked);\n      this.galChange.emit(this.checked);\n    }\n    this.isKeyboardFocus = true;\n  };\n\n  private handleMouseDown = () => {\n    this.isKeyboardFocus = false;\n  };\n\n  private handleFocus = (event: FocusEvent) => {\n    this.isFocused = true;\n    this.galFocus.emit(event);\n  };\n\n  private handleBlur = (event: FocusEvent) => {\n    this.isFocused = false;\n    this.isKeyboardFocus = false;\n    this.galBlur.emit(event);\n  };\n\n  private handleLabelSlotChange = (event: Event) => {\n    const slot = event.target as HTMLSlotElement;\n    this.hasLabelSlot = !!slot && slot.assignedNodes().length > 0;\n  };\n\n  render() {\n    const wrapperClasses = [\n      'oc-checkbox-wrapper',\n      this.disabled ? 'oc-checkbox-wrapper--disabled' : ''\n    ].filter(Boolean).join(' ');\n\n    const selection = this.selectionState;\n    const checkboxClasses = [\n      'oc-checkbox',\n      `oc-checkbox--${selection}`,\n      this.disabled ? 'oc-checkbox--disabled' : '',\n      this.isFocused && this.isKeyboardFocus ? 'oc-checkbox--focused' : ''\n    ].filter(Boolean).join(' ');\n\n    const showLabel = this.label || this.hasLabelSlot;\n\n    return (\n      <Host>\n        <label\n          class={wrapperClasses}\n          onKeyDown={this.handleKeyDown}\n          onMouseDown={this.handleMouseDown}\n        >\n          <input\n            ref={(el) => (this.inputEl = el as HTMLInputElement)}\n            type=\"checkbox\"\n            class=\"oc-checkbox__input\"\n            checked={this.checked}\n            disabled={this.disabled}\n            name={this.name}\n            value={this.value}\n            aria-checked={this.indeterminate ? 'mixed' : this.checked ? 'true' : 'false'}\n            onChange={this.handleInputChange}\n            onFocus={this.handleFocus}\n            onBlur={this.handleBlur}\n          />\n\n          <div class={checkboxClasses}>\n            <div class=\"oc-checkbox__icon\">\n              {selection === 'selected' && (\n                <svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"none\" aria-hidden=\"true\">\n                  <path\n                    d=\"M4 8.5L6.5 11L12 5.5\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  />\n                </svg>\n              )}\n              {selection === 'indeterminate' && (\n                <svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"none\" aria-hidden=\"true\">\n                  <path\n                    d=\"M4 8H12\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                  />\n                </svg>\n              )}\n            </div>\n          </div>\n\n          {showLabel && (\n            <span\n              class={{\n                'oc-checkbox__label': true,\n                'oc-checkbox__label--disabled': this.disabled\n              }}\n            >\n              <slot onSlotchange={this.handleLabelSlotChange}></slot>\n              {!this.hasLabelSlot && this.label}\n            </span>\n          )}\n        </label>\n      </Host>\n    );\n  }\n}\n"]}